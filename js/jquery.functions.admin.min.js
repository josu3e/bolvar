$(function(){
  $(".tbl_lista tbody tr").mouseover(function(){$(this).addClass("over");}).mouseout(function(){$(this).removeClass("over");});
  $(".tbl_lista tbody tr:even").addClass("alt");
  $(".tbl_lista tbody tr").mouseover(function(){$(this).addClass("over");}).mouseout(function(){$(this).removeClass("over");});

  $(".menu li").mouseover(function(){$(this).addClass("over");}).mouseout(function(){$(this).removeClass("over");});
  var bu = $('#bu').attr('href')+'index.php/administrador/';

  $('.delete').click(function(e){
    e.preventDefault();
    $.ajax({
      type: 'GET',
      url: $(this).attr('href'),
      success: function(msg){
        $('#msg').html(msg);
        $('#'+$('#txt').attr('class')).remove();
      }
    });
  });

  $('.deshabilitar').toggle(
    function(){
      $(this).text('habilitar');
      $.ajax({
        type: 'GET',
        url: $(this).attr('href')+'/deshabilitar/'+$(this).attr('id'),
        success: function(msg){
          $('#msg').html(msg);
        }
      });
    },
    function(){
      $(this).text('deshabilitar');
      $.ajax({
        type: 'GET',
        url: $(this).attr('href')+'/habilitar/'+$(this).attr('id'),
        success: function(msg){
          $('#msg').html(msg);
        }
      });
    }
  );

  $('.habilitar').toggle(
    function(){
      $(this).text('deshabilitar');
      $.ajax({
        type: 'GET',
        url: $(this).attr('href')+'/habilitar/'+$(this).attr('id'),
        success: function(msg){
          $('#msg').html(msg);
        }
      });
    },
    function(){
      $(this).text('habilitar');
      $.ajax({
        type: 'GET',
        url: $(this).attr('href')+'/deshabilitar/'+$(this).attr('id'),
        success: function(msg){
          $('#msg').html(msg);
        }
      });
    }
  );

  $('#tipo').change(function(){
    // alert(bu+'categoria/get_child_node/'+$(this).val());
    var id = $(this).val();
    $.ajax({
      type: 'GET',
      url: bu+'categoria/get_child_node/'+id,
      success: function(msg){
        // alert(msg);
        $('#categoria').html(msg);
      }
    });
    // $('#colores').hide();
    // if(id == 1)
      // $('#colores').show();
  });

  $('#categoria').change(function(){
    $.ajax({
      type: 'GET',
      url: bu+'/categoria/get_child_node/'+$(this).val(),
      success: function(msg){
        $('#estilo').html(msg);
      }
    });
  });

});